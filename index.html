<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Attrape ton bokit | M j.C</title>
  <link href='https://fonts.googleapis.com/css?family=Amatic+SC:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous" />
  <link rel="apple-touch-icon" sizes="180x180" href="logo/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="logo/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="logo/favicon-16x16.png">
  <link rel="mask-icon" href="logo/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="theme-color" content="#ffffff">
</head>
<body>

  <div class="container">
     
    <div class="border">
    <h1 class="title" >
      Attrape ton <b>"BOKIT"</b> üëèüèæ<br />
      le Jeux qui donne FAIM !</h1>
      <br>
      <h2 class="title-timer" >Temps <span class="timer">30</span> </h2>
<h2 class="title-score" >Bokits attrapez <span class="score">0</span></h2>
<h2 class="title-no_bokits" >Bokits vendu <span class="no_bokit">0</span></h2>
</div>
<div class="grid">
    <div class="row">
      <div class="square">

        <img src="mole.png" class="bokits" id="1">
        <img src="camion-.png" class="hole">

      </div>

      <div class="square">

        <img src="mole.png" class="bokits" id="2">
        <img src="camion-.png" class="hole">

      </div>

      <div class="square">

        <img src="mole.png" class="bokits" id="3">
        <img src="camion-.png" class="hole">

      </div>

      
    </div>
    <div class="row">

    <div class="square">

      <img src="mole.png" class="bokits" id="4">
      <img src="camion-.png" class="hole">

    </div>

    <div class="square">

      <img src="mole.png" class="bokits" id="5">
      <img src="camion-.png" class="hole">

    </div>

    <div class="square">

      <img src="mole.png" class="bokits" id="6">
      <img src="camion-.png" class="hole">

    </div>

    </div>
    <div class="row">

    <div class="square">

      <img src="mole.png" class="bokits" id="7">
      <img src="camion-.png" class="hole">

    </div>

    <div class="square">

      <img src="mole.png" class="bokits" id="8">
      <img src="camion-.png" class="hole">

    </div>

    <div class="square">

      <img src="mole.png" class="bokits" id="9">
      <img src="camion-.png" class="hole">

    </div>
  </div>
</div>
<br><br>
<div class="control-container">
  <button class="play" onmousedown="ENOUAY.play()"><b>Eat</b> (Bon lap√©ti*)</button>
    <button class="reset"><b>Reset</b> (Ank√≤*) </button></div>

</div>

<br>
<footer >
  <div style="text-align: center;font-size: 17px;">
      <div style="justify-content: space-between;">
        <br>

          <a href="#greeting-modal">
            <img src="GooglePlayStore.png" style="width:10%">  </a>
            <a href="#greeting-modal">
              <img src="Logo-telecharger-app-store.png"style="width:10%">  </a>
            </div>
            <div 
            class="modal-container" 
            id="greeting-modal">
            
            <!-- Modal  -->
            <div class="modal">
              <img src="mole.png" style="width:20%;">
              <h4 style=color:black>Installer Attrape bokit </h4>
              <p style=color:black>Installez cette application sur votre √©cran d'accueil pour un acc√®s rapide et facile</p>
              <br>
              <p style="font-size: 15px;color:black;">Appuyez sur <i class="fas fa-sign-out-alt fa-rotate-270 fa-2x" style="color: rgb(0, 132, 255);"></i> ou <i class="fas fa-ellipsis-v fa-2x" ></i> puis 'Sur l'√©cran d'accueil'</p>
              
            </div>
            
            <!-- Background, click to close -->
            <a href="#" class="modal-bg"></a>
          </div>
          
          <div style="color:white;">
          ¬© <script>document.write(new Date().getFullYear());</script> Copyright  <a href="https://matthcorvo.github.io/CORVOMatthieu-portfolioV.2/">*{Matthieu CORVO} </a>
        </div>
        </div>
        
      </div>    
           </footer>

           <script>
            var ENOUAY = new Audio();
            ENOUAY.src = 'ENOUAY.wav';</script>

<script>
 
 //seletion des bokits
 let moles=document.querySelectorAll(".bokits");
 let Scorecontainer=document.querySelector(".score");
 let timercontainer=document.querySelector(".timer");
 let counter=timercontainer.textContent;
let no_bokit=document.querySelector(".no_bokit");
 

let molesArr=Array.prototype.slice.call(moles);
 let random;

 let hitPosition;

 let score=0;
let count=0;


 function renderGame(){
  molesArr.forEach(curr =>{
curr.classList.remove("bokits-active");
  });
  random=Math.floor(Math.random()*molesArr.length);
  molesArr[random].classList.add("bokits-active");
  hitPosition=molesArr[random].id;
count++;
no_bokit.textContent=count;
}

function renderScore(){
  molesArr.forEach(curr =>{
curr.addEventListener("click",function(){
if(hitPosition==curr.id){
score++;
Scorecontainer.textContent=score;
}
})
})
 
}
renderScore();

let interval;
function renderTimer(){

  if(counter>0){
counter--;
timercontainer.textContent=counter;
}
else{
clearInterval(interval);
moleArr[random].classList.remove("bokits-active")

}

}
function update(){
  renderGame();
  renderTimer();
}
document.querySelector(".play").addEventListener("click",function(){
  if(!interval){
    interval=setInterval(update,1000);
  }
});

document.querySelector(".reset").addEventListener("click",function(){
  location.reload();
});
 </script>

</body>
</html>
